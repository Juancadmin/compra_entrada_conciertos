<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compra de Boletas para concierto</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        select, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
        }
        button {
            background-color: #ff0000;
            color: white;
            border: none;
            cursor: pointer;
        }
    
    </style>
</head>
<body>
    <h1>Compra de Boletas para concierto</h1>

    <div>
        <label for="cantidad">Cantidad de boletas:</label>
        <select id="cantidad">
            <option value="" selected disabled>Seleccione cantidad</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="1">5</option>
            <option value="2">6</option>
            <option value="3">7</option>
            <option value="4">8</option>
            <option value="3">9</option>
            <option value="4">10</option>
        </select>
    </div>
    

    <div id="localidad-container" class="hidden">
        <label for="localidad">Tipo de localidad:</label>
        <select id="localidad">
            <option value="" selected disabled>Seleccione la localidad</option>
            <option value="general">General ($350,000)</option>
            <option value="vip">VIP ($500,000)</option>
        </select>
    </div>
    
  
    <button id="calcularTotalCompra" class="hidden">Calcular total compra boletas</button>
    

    <div id="resumen" class="hidden">
        <h3>Resumen de Compra</h3>
        <div id="detalle-compra"></div>
        <button id="confirmar">Confirmar Compra</button>
    </div>
    
    <div id="confirmacion" class="hidden">
        <h3>OK</h3>
        <p>Haz comprado tus boletas </p>
    </div>

    <script>
        // Elementos del DOM
        const cantidadSelect = document.getElementById('cantidad');
        const localidadContainer = document.getElementById('localidad-container');
        const localidadSelect = document.getElementById('localidad');
        const calcularBtn = document.getElementById('calcular');
        const resumenDiv = document.getElementById('resumen');
        const detalleCompra = document.getElementById('detalle-compra');
        const confirmarBtn = document.getElementById('confirmar');
        const confirmacionDiv = document.getElementById('confirmacion');
        
        // Precios
        const precios = {
            general: 350000,
            vip: 500000
        };
        
        // Evento al cambiar la cantidad
        cantidadSelect.addEventListener('change', function() {
            if (this.value) {
                localidadContainer.classList.remove('hidden');
                calcularBtn.classList.remove('hidden');
            } else {
                localidadContainer.classList.add('hidden');
                calcularBtn.classList.add('hidden');
            }
        });
        
        // Evento para calcular total
        calcularBtn.addEventListener('click', function() {
            if (!localidadSelect.value) {
                alert('Por favor seleccione la localidad');
                return;
            }
            
            const cantidad = parseInt(cantidadSelect.value);
            const localidad = localidadSelect.value;
            const precioUnitario = precios[localidad];
            let total = cantidad * precioUnitario;
            
            // Aplicar descuento si es 1 VIP y 1 General
            let descuento = 0;
            if (cantidad === 2 && localidad === 'vip') {
                descuento = total * 0.20; // 20% de descuento
                total -= descuento;
            }
            
            // Mostrar resumen
            let html = `
                <p>Cantidad: ${cantidad} boleta(s) ${localidad.toUpperCase()}</p>
                <p>Precio unitario: $${precioUnitario.toLocaleString()}</p>
            `;
            
            if (descuento > 0) {
                html += `<p>Descuento (20%): -$${descuento.toLocaleString()}</p>`;
            }
            
            html += `<p><strong>Total: $${total.toLocaleString()}</strong></p>`;
            
            detalleCompra.innerHTML = html;
            resumenDiv.classList.remove('hidden');
        });
        
        // Evento para confirmar compra
        confirmarBtn.addEventListener('click', function() {
            resumenDiv.classList.add('hidden');
            confirmacionDiv.classList.remove('hidden');
        });
    </script>
</body>
</html>